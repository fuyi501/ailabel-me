(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54c9b538"],{4959:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",[t._v("摄像头配置")]),r("el-divider"),r("div",{staticStyle:{height:"92%"}},[r("d2-crud-x",t._g(t._b({ref:"d2Crud"},"d2-crud-x",t._crudProps,!1),t._crudListeners),[r("div",{attrs:{slot:"header"},slot:"header"},[r("crud-search",{ref:"search",attrs:{options:t.crud.searchOptions},on:{submit:t.handleSearch}}),r("el-button-group",[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addRow}},[r("i",{staticClass:"el-icon-plus"}),t._v(" 新增 ")])],1),r("crud-toolbar",t._g(t._b({},"crud-toolbar",t._crudToolbarProps,!1),t._crudToolbarListeners))],1)])],1)],1)},a=[],i=r("5a0c"),s=r.n(i),u=r("b775"),o=r("a161"),c=function(t){return{options:{height:"100%"},indexRow:{title:"序号",align:"center"},rowHandle:{width:200,view:{show:!1},fixed:"right"},searchOptions:{disabled:!0,show:null},columns:[{title:"摄像头名称",key:"camera_name",width:120,search:{disabled:!1},form:{disabled:!1,rules:[{required:!0,message:"请输入摄像头名称"}]}},{title:"摄像头类型",key:"camera_type",type:"select",width:90,search:{disabled:!1},form:{disabled:!1,rules:[{required:!0,message:"请输入摄像头类型"}]},dict:{data:[{value:"枪球机",label:"枪球机",color:"success"},{value:"枪机",label:"枪机",color:"warning"},{value:"球机",label:"球机",color:"danger"}]}},{title:"所在道路",key:"camera_road_id",type:"select",width:200,search:{disabled:!1},form:{disabled:!1,rules:[{required:!0,message:"请选择所在道路路口"}]},dict:{url:"/traffic_road/dicts",getData:function(t,e){return Object(u["a"])({url:t,method:"get",baseURL:"http://39.99.145.119:9002/api/draw"}).then((function(t){return t.data}))},value:"road_id",label:"road_name"}},{title:"安装位置",key:"camera_position",type:"select",width:80,search:{disabled:!1},form:{disabled:!1,rules:[{required:!0,message:"请选择安装位置"}]},dict:{data:[{value:"north",label:"北",color:"success"},{value:"东北",label:"东北",color:"success"},{value:"east",label:"东",color:"success"},{value:"东南",label:"东南",color:"success"},{value:"south",label:"南",color:"success"},{value:"西南",label:"西南",color:"success"},{value:"west",label:"西",color:"success"},{value:"西北",label:"西北",color:"success"}]}},{title:"地理坐标",key:"camera_lonlat",search:{disabled:!1},form:{disabled:!1,component:{span:24}}},{title:"视频流地址",key:"camera_video_url",width:100,search:{disabled:!1},form:{disabled:!1,component:{span:24}}},{title:"原始图片",key:"camera_original_image_url",type:"image-uploader",align:"left",search:{disabled:!1},form:{component:{props:{uploader:{type:"form",action:"http://39.99.145.119:9002/api/draw/traffic_files/file_upload",successHandle:function(t,e){if(200!==t.code)throw new Error(t.message);return{url:t.data}}},elProps:{multiple:!1,limit:1}}},on:{blur:function(t){console.log("blur",t)}},rules:[{validator:o["a"].createAllUploadedValidator(t.getFormComponentRef),message:"还有文件正在上传，请等待上传完成，或删除它"}]},component:{props:{buildUrl:function(t,e){return t}}}},{title:"标注图片",key:"camera_image_url",type:"image-uploader",align:"left",search:{disabled:!1},form:{component:{props:{uploader:{type:"form",action:"http://39.99.145.119:9002/api/draw/traffic_files/file_upload",successHandle:function(t,e){if(200!==t.code)throw new Error(t.message);return{url:t.data}}},elProps:{multiple:!1,limit:1}}},on:{blur:function(t){console.log("blur",t)}},rules:[{validator:o["a"].createAllUploadedValidator(t.getFormComponentRef),message:"还有文件正在上传，请等待上传完成，或删除它"}]},component:{props:{buildUrl:function(t,e){return t}}}},{title:"创建日期",key:"created_at",width:140,type:"datetime",search:{disabled:!0},form:{disabled:!0,value:s()().format("YYYY-MM-DD HH:mm:ss")}},{title:"更新日期",key:"updated_at",width:140,type:"datetime",search:{disabled:!0},form:{disabled:!0,value:s()().format("YYYY-MM-DD HH:mm:ss")}}]}},l=r("1fbf"),d=(r("a9e3"),"http://39.99.145.119:9002/api/draw");function f(t){return t.pageNum=Number(t.pageNum),t.pageSize=Number(t.pageSize),Object(u["a"])({url:"/traffic_cameras/list",method:"get",params:t,baseURL:d}).then((function(t){return t}))}function h(t){return t.created_at=s()(t.created_at).format("YYYY-MM-DD HH:mm:ss"),Object(u["a"])({url:"/traffic_cameras/create",method:"post",data:t,baseURL:d})}function m(t){return Object(u["a"])({url:"/traffic_cameras/update",method:"put",data:t,baseURL:d})}function p(t){return Object(u["a"])({url:"/traffic_cameras/delete",method:"delete",params:{id:t},baseURL:d})}var b={name:"CDDTType",mixins:[l["d2CrudPlus"].crud],methods:{getCrudOptions:function(){return c(this)},pageRequest:function(t){return f(t)},addRequest:function(t){return h(t)},updateRequest:function(t){return m(t)},delRequest:function(t){return p(t.id)}}},g=b,$=(r("f3c6"),r("2877")),v=Object($["a"])(g,n,a,!1,null,"0b60c48b",null);e["default"]=v.exports},"5a0c":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",i="minute",s="hour",u="day",o="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},$={s:g,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,c),i=r-a<0,s=e.clone().add(n+(i?-1:1),c);return+(-(n+(r-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:o,d:u,D:f,h:s,m:i,s:a,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",y={};y[v]=b;var _=function(t){return t instanceof S},w=function(t,e,r){var n;if(!t)return v;if("string"==typeof t)y[t]&&(n=t),e&&(y[t]=e,n=t);else{var a=t.name;y[a]=t,n=a}return!r&&n&&(v=n),n||!r&&v},M=function(t,e){if(_(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new S(r)},D=$;D.l=w,D.i=_,D.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function b(t){this.$L=w(t.locale,null,!0),this.parse(t)}var g=b.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(m);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return D},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(t,e){var r=M(t);return this.startOf(e)<=r&&r<=this.endOf(e)},g.isAfter=function(t,e){return M(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<M(t)},g.$g=function(t,e,r){return D.u(t)?this[e]:this.set(r,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var r=this,n=!!D.u(e)||e,l=D.p(t),h=function(t,e){var a=D.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?a:a.endOf(u)},m=function(t,e){return D.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},p=this.$W,b=this.$M,g=this.$D,$="set"+(this.$u?"UTC":"");switch(l){case d:return n?h(1,0):h(31,11);case c:return n?h(1,b):h(0,b+1);case o:var v=this.$locale().weekStart||0,y=(p<v?p+7:p)-v;return h(n?g-y:g+(6-y),b);case u:case f:return m($+"Hours",0);case s:return m($+"Minutes",1);case i:return m($+"Seconds",2);case a:return m($+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var r,o=D.p(t),l="set"+(this.$u?"UTC":""),h=(r={},r[u]=l+"Date",r[f]=l+"Date",r[c]=l+"Month",r[d]=l+"FullYear",r[s]=l+"Hours",r[i]=l+"Minutes",r[a]=l+"Seconds",r[n]=l+"Milliseconds",r)[o],m=o===u?this.$D+(e-this.$W):e;if(o===c||o===d){var p=this.clone().set(f,1);p.$d[h](m),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[D.p(t)]()},g.add=function(n,l){var f,h=this;n=Number(n);var m=D.p(l),p=function(t){var e=M(h);return D.w(e.date(e.date()+Math.round(t*n)),h)};if(m===c)return this.set(c,this.$M+n);if(m===d)return this.set(d,this.$y+n);if(m===u)return p(1);if(m===o)return p(7);var b=(f={},f[i]=e,f[s]=r,f[a]=t,f)[m]||1,g=this.$d.getTime()+n*b;return D.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=D.z(this),i=this.$H,s=this.$m,u=this.$M,o=r.weekdays,c=r.months,l=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].substr(0,i)},d=function(t){return D.s(i%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:D.s(u+1,2,"0"),MMM:l(r.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,o,2),ddd:l(r.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:D.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,s,!0),A:f(i,s,!1),m:String(s),mm:D.s(s,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:a};return n.replace(p,(function(t,e){return e||m[t]||a.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,h){var m,p=D.p(f),b=M(n),g=(b.utcOffset()-this.utcOffset())*e,$=this-b,v=D.m(this,b);return v=(m={},m[d]=v/12,m[c]=v,m[l]=v/3,m[o]=($-g)/6048e5,m[u]=($-g)/864e5,m[s]=$/r,m[i]=$/e,m[a]=$/t,m)[p]||$,h?v:D.a(v)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return y[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=w(t,e,!0);return n&&(r.$L=n),r},g.clone=function(){return D.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},b}(),O=S.prototype;return M.prototype=O,[["$ms",n],["$s",a],["$m",i],["$H",s],["$W",u],["$M",c],["$y",d],["$D",f]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,S,M),t.$i=!0),M},M.locale=w,M.isDayjs=_,M.unix=function(t){return M(1e3*t)},M.en=y[v],M.Ls=y,M.p={},M}))},a134:function(t,e,r){},a9e3:function(t,e,r){"use strict";var n=r("83ab"),a=r("da84"),i=r("94ca"),s=r("6eeb"),u=r("5135"),o=r("c6b6"),c=r("7156"),l=r("d9b5"),d=r("c04e"),f=r("d039"),h=r("7c73"),m=r("241c").f,p=r("06cf").f,b=r("9bf2").f,g=r("58a8").trim,$="Number",v=a[$],y=v.prototype,_=o(h(y))==$,w=function(t){if(l(t))throw TypeError("Cannot convert a Symbol value to a number");var e,r,n,a,i,s,u,o,c=d(t,"number");if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+c}for(i=c.slice(2),s=i.length,u=0;u<s;u++)if(o=i.charCodeAt(u),o<48||o>a)return NaN;return parseInt(i,n)}return+c};if(i($,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var M,D=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof D&&(_?f((function(){y.valueOf.call(r)})):o(r)!=$)?c(new v(w(e)),r,D):w(e)},S=n?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;S.length>O;O++)u(v,M=S[O])&&!u(D,M)&&b(D,M,p(v,M));D.prototype=y,y.constructor=D,s(a,$,D)}},f3c6:function(t,e,r){"use strict";r("a134")}}]);