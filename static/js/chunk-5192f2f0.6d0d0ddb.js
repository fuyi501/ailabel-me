(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5192f2f0"],{3479:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"交通道路"}},[t("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择道路"},on:{change:e.roadSelectChange},model:{value:e.roadSelectValue,callback:function(a){e.roadSelectValue=a},expression:"roadSelectValue"}},e._l(e.roadOptions,(function(e){return t("el-option",{key:e.road_id,attrs:{label:e.road_name,value:e.road_id}})})),1)],1),t("el-form-item",{attrs:{label:"监控摄像头"}},[t("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择监控摄像头"},on:{change:e.cameraSelectChange},model:{value:e.cameraSelectValue,callback:function(a){e.cameraSelectValue=a},expression:"cameraSelectValue"}},e._l(e.cameraOptions,(function(e){return t("el-option",{key:e.camera_id,attrs:{label:e.camera_name,value:e.camera_id}})})),1)],1)],1),t("el-divider",{staticClass:"mydivider"}),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:18}},[t("div",{attrs:{id:"ailabelmap"}}),t("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(a){return e.setMode("PAN")}}},[e._v("平移")]),t("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(a){return e.setMode("RECT")}}},[e._v("绘制矩形")]),t("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(a){return e.setMode("POLYGON")}}},[e._v("绘制多边形")]),t("p",[e._v("注：在绘制模式时，双击图形可进行选中编辑；单击未选中图形区域或切换mode模式会取消选中。双击右侧表格的某一行也可以选中编辑。")])],1),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mytable"},[t("div",{staticClass:"headerinfo"},[t("span",{staticStyle:{"font-size":"18px"}},[e._v("标注信息（"+e._s(e.markerList.length)+"）")])]),t("el-table",{key:e.tableKey,ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.markerList,"highlight-current-row":"",size:"mini"},on:{"row-dblclick":e.tableRowClick}},[t("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.name)+" ")]}}])}),t("el-table-column",{attrs:{label:"编辑",width:"40"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{slot:"reference",type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(a.row)}},slot:"reference"})]}}])}),t("el-table-column",{attrs:{label:"删除",width:"50"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{slot:"reference",type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(a.row)}},slot:"reference"})]}}])})],1)],1)])],1),t("el-dialog",{staticClass:"mydialog",attrs:{title:"标注信息",visible:e.isVisibleDialog},on:{"update:visible":function(a){e.isVisibleDialog=a}}},[t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:"标注名称"}},[t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.dialogTagName||e.dialogInfo["name"]))])],1),t("el-form-item",{attrs:{label:"标注框坐标"}},[t("el-alert",{attrs:{title:JSON.stringify(e.dialogInfo["positionData"]),type:"info",closable:!1}})],1)],1),t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:"请选择标注类型"}},[t("el-select",{attrs:{placeholder:"请选择标注类型"},on:{change:e.changeAnnoType},model:{value:e.typeValue,callback:function(a){e.typeValue=a},expression:"typeValue"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"请选择区域事件"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择区域事件",disabled:e.isDisabledDialogForm},model:{value:e.areaSelectValue,callback:function(a){e.areaSelectValue=a},expression:"areaSelectValue"}},e._l(e.areaOption,(function(e){return t("el-option",{key:e.event_value,attrs:{label:e.event_label,value:e.event_value}})})),1)],1)],1),t("el-form",{attrs:{"label-width":"120px",inline:!0,disabled:!e.isDisabledDialogForm}},[t("el-form-item",{attrs:{label:"请选择车道方向"}},[t("el-select",{attrs:{placeholder:"请选择车道方向"},model:{value:e.laneSelectValue,callback:function(a){e.laneSelectValue=a},expression:"laneSelectValue"}},e._l(e.laneOption,(function(e){return t("el-option",{key:e.lane_value,attrs:{label:e.lane_label,value:e.lane_value}})})),1)],1),t("el-form-item",{attrs:{label:"请输入车道限速"}},[t("el-input",{model:{value:e.laneMaxSpeed,callback:function(a){e.laneMaxSpeed=a},expression:"laneMaxSpeed"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.isVisibleDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handelDialogButton}},[e._v("确 定")])],1)],1)],1)},i=[],n=t("5530"),l=t("2909"),s=t("3835"),o=(t("4de4"),t("7db0"),t("c740"),t("a434"),t("d3b7"),t("3ca3"),t("ddb0"),t("d81d"),t("99af"),t("b0c0"),t("7e66")),d=t.n(o),u=t("b775"),c="http://39.99.145.119:9002/api/draw";function p(){var e={pageNum:1,pageSize:100};return Object(u["a"])({url:"/traffic_road/list",method:"get",params:e,baseURL:c}).then((function(e){return e}))}function f(e){return Object(u["a"])({url:"/traffic_cameras/selectlist",method:"get",params:{road_id:e},baseURL:c}).then((function(e){return e}))}function h(e){return Object(u["a"])({url:"/traffic_area/get_area_list_by_cameraId",method:"get",params:{camera_id:e},baseURL:c}).then((function(e){return e}))}function m(e){return Object(u["a"])({url:"/traffic_lane/get_lane_list_by_cameraId",method:"get",params:{camera_id:e},baseURL:c}).then((function(e){return e}))}function g(){return Object(u["a"])({url:"/traffic_event_code/dicts",method:"get",baseURL:c}).then((function(e){return e}))}function y(){return Object(u["a"])({url:"/traffic_lane_code/dicts",method:"get",baseURL:c}).then((function(e){return e}))}function b(e){return Object(u["a"])({url:"/traffic_cameras/oneinfo",method:"get",params:{camera_id:e},baseURL:c}).then((function(e){return e}))}function _(e){return console.log("创建区域：",e),Object(u["a"])({url:"/traffic_area/create",method:"post",data:e,baseURL:c})}function x(e){return console.log("创建车道：",e),Object(u["a"])({url:"/traffic_lane/create",method:"post",data:e,baseURL:c})}function L(e){return Object(u["a"])({url:"/traffic_area/delete_by_area_id",method:"delete",params:{area_id:e},baseURL:c})}function v(e){return Object(u["a"])({url:"/traffic_lane/delete_by_lane_id",method:"delete",params:{lane_id:e},baseURL:c})}function I(e){return console.log("更新区域 shape：",e),Object(u["a"])({url:"/traffic_area/update_shape",method:"put",params:e,baseURL:c})}function k(e){return console.log("更新车道 shape：",e),Object(u["a"])({url:"/traffic_lane/update_shape",method:"put",params:e,baseURL:c})}var S=t("219e"),O=t.n(S),T={name:"StagePicPage",data:function(){return{gMap:null,drawingStyle:{},getStyle:{RECT:{strokeStyle:"#00f",lineWidth:1,fillStyle:"#0f0",globalAlpha:.3,fill:!0,stroke:!0},POLYGON:{strokeStyle:"#00f",lineWidth:1,fillStyle:"#0f0",globalAlpha:.3,fill:!0,stroke:!0}},gFirstImageLayer:null,currentImage:"http://39.99.145.119:9002/api/draw/traffic_files/previewfile/north.png",imageWidth:1920,imageHeight:1080,gFirstFeatureLayer:null,gFirstTextLayer:null,defaultTextName:"标签名称",drawingTextStyle:{fillStyle:"#F4A460",strokeStyle:"#D2691E",background:!0,globalAlpha:1,fontColor:"#0f0"},roadOptions:[],roadSelectValue:"",cameraOptions:[],cameraSelectValue:"",typeOptions:[{value:"area",label:"区域"},{value:"lane",label:"车道"}],typeValue:"area",isDisabledDialogForm:!1,areaOption:[],areaSelectValue:[],laneOption:[],laneSelectValue:"",laneMaxSpeed:60,isVisibleDialog:!1,dialogInfo:{},markerList:[],tableKey:0,oldTableRowData:""}},computed:{dialogTagName:{get:function(){var e=this;if(0!==this.areaSelectValue.length){var a=this.areaOption.filter((function(a){return a.event_value===e.areaSelectValue[0]}));return a[0]["event_label"]+"等事件"}if(""!==this.laneSelectValue){var t=this.laneOption.filter((function(a){return a.lane_value===e.laneSelectValue}));return t[0]["lane_label"]+"，限速 "+this.laneMaxSpeed}return"标签名称"},set:function(e){return e}}},mounted:function(){this.initRoadCameraParams(),this.initAILabel()},methods:{initRoadCameraParams:function(){var e=this;p().then((function(a){console.log("GetRoadList",a),e.roadOptions=a.data.records,e.roadSelectValue=e.roadOptions[0]["road_id"],f(e.roadSelectValue).then((function(a){e.cameraOptions=a.data,e.cameraSelectValue=e.cameraOptions[0]["camera_id"],e.cameraSelectChange(e.cameraSelectValue)}))})),g().then((function(a){console.log("GetEventCodeList",a),e.areaOption=a.data})),y().then((function(a){console.log("GetLaneCodeList",a),e.laneOption=a.data}))},initAILabel:function(){this.gMap=new d.a.Map("ailabelmap",{center:{x:960,y:540},zoom:2e3,mode:"PAN",refreshDelayWhenZooming:!0,zoomWhenDrawing:!0,panWhenDrawing:!0}),this.gFirstFeatureLayer=new d.a.Layer.Feature("first-layer-feature",{name:"第一个矢量图层"},{zIndex:10}),this.gMap.addLayer(this.gFirstFeatureLayer),this.gFirstTextLayer=new d.a.Layer.Text("first-layer-text",{name:"第一个文本图层"},{zIndex:12,opacity:1}),this.gMap.addLayer(this.gFirstTextLayer),this.gFirstImageLayer=new d.a.Layer.Image("first-layer-image",{src:this.currentImage,width:this.imageWidth,height:this.imageHeight,position:{x:0,y:0},grid:{columns:[{color:"#9370DB"},{color:"#FF6347"}],rows:[{color:"#9370DB"},{color:"#FF6347"}]}},{name:"第一个图片图层"},{zIndex:5}),this.gMap.addLayer(this.gFirstImageLayer),this.gMap.events.on("drawDone",this.AILabelDrawDone),this.gMap.events.on("featureSelected",this.AILabelFeatureSelected),this.gMap.events.on("featureUnselected",this.AILabelFeatureUnselected),this.gMap.events.on("featureUpdated",this.AILabelFeatureUpdated)},AILabelDrawDone:function(e,a){if(console.log("--AILabelDrawDone data--",e,a),"RECT"===e){var t="rect-feature-id-".concat(+new Date),r="rect-label-text-id-".concat(+new Date),i="rect-delete-marker-id-".concat(+new Date),n=new d.a.Feature.Rect(t,a,{name:this.defaultTextName,textId:r,deleteMarkerId:i},this.drawingStyle);this.gFirstFeatureLayer.addFeature(n);var l=a.x,s=a.y;this.addLayerText(r,this.defaultTextName,{x:l,y:s}),this.markerList.push({featureType:"RECT",feature:n,uuid:t,name:"标签名称",shape:a,props:{textId:r,deleteMarkerId:i}}),console.log("标注列表：",this.markerList)}else if("POLYGON"===e){var o="polygon-feature-id-".concat(+new Date),u="polygon-label-text-id-".concat(+new Date),c="polygon-delete-marker-id-".concat(+new Date),p=new d.a.Feature.Polygon(o,{points:a},{name:"多边形矢量图形",textId:u,deleteMarkerId:c},this.drawingStyle);this.gFirstFeatureLayer.addFeature(p);var f={x:a[0]["x"],y:a[0]["y"]};this.addLayerText(u,this.defaultTextName,f),this.markerList.push({featureType:"POLYGON",feature:p,uuid:o,name:"标签名称",shape:{points:a},props:{textId:u,deleteMarkerId:c}}),console.log("标注列表：",this.markerList)}},addLayerText:function(e,a,t){var r=new d.a.Text(e,{text:a,position:t,offset:{x:0,y:0}},{name:a},this.drawingTextStyle);this.gFirstTextLayer.addText(r)},AILabelFeatureSelected:function(e){if(console.log("--AILabelFeatureSelected--",e),this.gMap.setActiveFeature(e),"RECT"===e.type){var a=e.getPoints()[1];this.addDeleteMarker(e,a)}else if("POLYGON"===e.type){var t=e.shape.points[1];this.addDeleteMarker(e,t)}var r=this.markerList.find((function(a){return a.uuid===e.id}));this.$refs["singleTable"].setCurrentRow(r)},addDeleteMarker:function(e,a){var t=this,r=e.props.deleteMarkerId,i=new d.a.Marker(r,{src:"https://alioss.fuwenwei.com/img/20210916131014.png",position:a,offset:{x:-20,y:-4}},{name:"删除 marker"});this.gMap.markerLayer.addMarker(i),i.events.on("click",(function(a){t.gMap.markerLayer.removeMarkerById(a.id),t.gFirstTextLayer.removeTextById(e.props.textId),t.gFirstFeatureLayer.removeFeatureById(e.id);var r=t.markerList.findIndex((function(a){return a.uuid===e.id})),i=t.markerList.find((function(a){return a.uuid===e.id}));t.markerList.splice(r,1),"area"===i.annoType?L(i.uuid).then((function(e){console.log("删除区域:",e),t.$message({message:"删除区域成功",type:"success"})})):"lane"===i.annoType&&v(i.uuid).then((function(e){console.log("删除车道：",e),t.$message({message:"删除车道成功",type:"success"})}))}))},AILabelFeatureUnselected:function(e){console.log("--AILabelFeatureUnselected--",e),this.gMap.setActiveFeature(null),this.gMap.markerLayer.removeMarkerById(e.props.deleteMarkerId),this.$refs["singleTable"].setCurrentRow()},AILabelFeatureUpdated:function(e,a){var t=this;console.log("--FeatureUpdated--",e,a),e.updateShape(a);var r=this.markerList.findIndex((function(a){return a.uuid===e.id})),i=this.markerList.find((function(a){return a.uuid===e.id}));i.shape=a,this.markerList.splice(r,1,i),console.log("--FeatureUpdated this.markerList item--",i),"area"===i.annoType?I({area_id:i.uuid,shape:JSON.stringify(i.shape.points||i.shape)}).then((function(e){console.log("更新区域 shape",e),t.$message({message:"更新 shape 成功",type:"success"})})):"lane"===i.annoType&&k({lane_id:i.uuid,shape:JSON.stringify(i.shape.points||i.shape)}).then((function(e){console.log("更新车道 shape",e),t.$message({message:"更新 shape 成功",type:"success"})}));var n=e.props.deleteMarkerId,l=e.props.textId;if("RECT"===e.type){var s=this.gMap.markerLayer.getMarkerById(n);s.updatePosition(e.getPoints()[1]);var o=this.gFirstTextLayer.getTextById(l);o.updatePosition(e.getPoints()[0])}else if("POLYGON"===e.type){var d=this.gMap.markerLayer.getMarkerById(n);d.updatePosition(e.shape.points[1]);var u=this.gFirstTextLayer.getTextById(l);u.updatePosition(e.shape.points[0])}},roadSelectChange:function(e){var a=this;f(e).then((function(e){a.cameraOptions=e.data}))},cameraSelectChange:function(e){var a=this;b(e).then((function(t){a.currentImage=t.data.camera_original_image_url,console.log("选中监控摄像机 currentImage：",a.currentImage),a.gMap&&a.gMap.destroy(),a.initAILabel(),a.GetAreaLaneListByCameraId(e)}))},GetAreaLaneListByCameraId:function(e){var a=this;O.a.all([h(e),m(e)]).then((function(e){var t=Object(s["a"])(e,2),r=t[0],i=t[1];console.log("res1, res2 摄像机区域监控：",r,i);var n=r.data.map((function(e){var t=JSON.parse(e.props),r=null,i="";if("RECT"===t.featureType){var n=new d.a.Feature.Rect(e.area_id,JSON.parse(e.pixel_coordinates),{name:e.area_name,textId:t.textId,deleteMarkerId:t.deleteMarkerId},a.getStyle["POLYGON"]);a.gFirstFeatureLayer.addFeature(n);var l={x:JSON.parse(e.pixel_coordinates)["x"],y:JSON.parse(e.pixel_coordinates)["y"]};a.addLayerText(t.textId,e.area_name,l),r=n,i=JSON.parse(e.pixel_coordinates)}if("POLYGON"===t.featureType){var s=new d.a.Feature.Polygon(e.area_id,{points:JSON.parse(e.pixel_coordinates)},{name:e.area_name,textId:t.textId,deleteMarkerId:t.deleteMarkerId},a.getStyle["POLYGON"]);a.gFirstFeatureLayer.addFeature(s);var o={x:JSON.parse(e.pixel_coordinates)[0]["x"],y:JSON.parse(e.pixel_coordinates)[0]["y"]};a.addLayerText(t.textId,e.area_name,o),r=s,i={points:JSON.parse(e.pixel_coordinates)}}return{featureType:t.featureType,feature:r,annoType:"area",uuid:e.area_id,name:e.area_name,number:e.area_number,camera_id:e.camera_id,event_list:e.event_list,shape:i,props:{textId:t.textId,deleteMarkerId:t.deleteMarkerId}}}));console.log("--areaList--",n);var o=i.data.map((function(e,t){var r=JSON.parse(e.props),i=null,n="";if("RECT"===r.featureType){var l=new d.a.Feature.Rect(e.lane_id,JSON.parse(e.pixel_coordinates),{name:e.lane_name,textId:r.textId,deleteMarkerId:r.deleteMarkerId},a.getStyle["POLYGON"]);a.gFirstFeatureLayer.addFeature(l);var s={x:JSON.parse(e.pixel_coordinates)["x"],y:JSON.parse(e.pixel_coordinates)["y"]};a.addLayerText(r.textId,e.lane_name,s),i=l,n=JSON.parse(e.pixel_coordinates)}if("POLYGON"===r.featureType){var o=new d.a.Feature.Polygon(e.lane_id,{points:JSON.parse(e.pixel_coordinates)},{name:e.lane_name,textId:r.textId,deleteMarkerId:r.deleteMarkerId},a.getStyle["POLYGON"]);a.gFirstFeatureLayer.addFeature(o);var u={x:JSON.parse(e.pixel_coordinates)[0]["x"],y:JSON.parse(e.pixel_coordinates)[0]["y"]};a.addLayerText(r.textId,e.lane_name,u),i=o,n={points:JSON.parse(e.pixel_coordinates)}}return{featureType:r.featureType,feature:i,annoType:"lane",uuid:e.lane_id,name:e.lane_name,number:e.lane_number,camera_id:e.camera_id,lane_direction:e.lane_direction,max_speed:e.max_speed,shape:n,props:{textId:r.textId,deleteMarkerId:r.deleteMarkerId}}}));console.log("--laneList--",o),a.markerList=[].concat(Object(l["a"])(n),Object(l["a"])(o)),a.$message({message:"获取成功",type:"success"})}))},tableRowClick:function(e,a){if(""!==this.oldTableRowData&&e.uuid!==this.oldTableRowData.uuid&&(this.gMap.setActiveFeature(null),this.gMap.markerLayer.removeMarkerById(this.oldTableRowData.feature.props.deleteMarkerId)),this.gMap.setActiveFeature(e.feature),"RECT"===e.featureType){var t=e.feature.getPoints()[1];this.addDeleteMarker(e.feature,t)}else if("POLYGON"===e.featureType){var r=e.feature.shape.points[1];this.addDeleteMarker(e.feature,r)}this.oldTableRowData=e},changeAnnoType:function(){this.isDisabledDialogForm=!this.isDisabledDialogForm,this.areaSelectValue=[],this.laneSelectValue=""},handleEdit:function(e){console.log("编辑图层：",e),this.dialogInfo=e,this.typeValue=this.dialogInfo["annoType"]||"area",this.areaSelectValue=this.dialogInfo["event_list"]||[],this.laneSelectValue=this.dialogInfo["lane_direction"]||"",this.laneMaxSpeed=this.dialogInfo["max_speed"]||60,this.isDisabledDialogForm=!("area"===this.typeValue),this.dialogInfo["positionData"]=e.shape,this.dialogTagName=this.dialogInfo["name"],console.log("查看 this.dialogInfo",this.dialogInfo),this.isVisibleDialog=!0},handelDialogButton:function(){var e=this;if(console.log("handelDialogButton"),"area"===this.typeValue){var a=this.markerList.findIndex((function(a){return a.uuid===e.dialogInfo.uuid})),t=this.markerList.find((function(a){return a.uuid===e.dialogInfo.uuid}));t["name"]=this.dialogTagName,t["event_list"]=this.areaSelectValue,t["annoType"]=this.typeValue,this.markerList.splice(a,1,t),console.log("区域标注：",t,this.markerList)}if("lane"===this.typeValue){var r=this.markerList.findIndex((function(a){return a.uuid===e.dialogInfo.uuid})),i=this.markerList.find((function(a){return a.uuid===e.dialogInfo.uuid}));i["name"]=this.dialogTagName,i["lane_direction"]=this.laneSelectValue,i["max_speed"]=this.laneMaxSpeed,i["annoType"]=this.typeValue,this.markerList.splice(r,1,i),console.log("车道标注：",i,this.markerList)}if("RECT"===this.dialogInfo.featureType){this.gFirstTextLayer.removeTextById(this.dialogInfo.props.textId);var n={x:this.dialogInfo.shape["x"],y:this.dialogInfo.shape["y"]};this.addLayerText(this.dialogInfo.props.textId,this.dialogTagName,n)}else if("POLYGON"===this.dialogInfo.featureType){this.gFirstTextLayer.removeTextById(this.dialogInfo.props.textId);var l={x:this.dialogInfo.shape.points[0]["x"],y:this.dialogInfo.shape.points[0]["y"]};this.addLayerText(this.dialogInfo.props.textId,this.dialogTagName,l)}this.$message({message:"编辑成功",type:"success"}),this.isVisibleDialog=!1,this.uploadAreaLaneData(this.dialogInfo)},handleDelete:function(e){var a=this;console.log("列表删除：",e),this.gMap.markerLayer.removeMarkerById(e.props.deleteMarkerId),this.gFirstTextLayer.removeTextById(e.props.textId),this.gFirstFeatureLayer.removeFeatureById(e.feature.id);var t=this.markerList.findIndex((function(a){return a.uuid===e.uuid}));this.markerList.splice(t,1),"area"===e.annoType?L(e.uuid).then((function(e){console.log("删除区域:",e),a.$message({message:"删除区域成功",type:"success"})})):"lane"===e.annoType&&v(e.uuid).then((function(e){console.log("删除车道：",e),a.$message({message:"删除车道成功",type:"success"})}))},uploadAreaLaneData:function(e){console.log("上传：",e);var a="";if("RECT"===e.featureType?a=JSON.stringify(e.shape):"POLYGON"===e.featureType&&(a=JSON.stringify(e.shape.points)),"area"===e.annoType){var t={area_id:e.uuid,area_name:e.name,area_number:0,camera_id:this.cameraSelectValue,event_list:e.event_list,pixel_coordinates:a,props:JSON.stringify(Object(n["a"])(Object(n["a"])({},e.props),{},{featureType:e.featureType}))};_(t).then((function(e){console.log("area 上传结果：",e)}))}if("lane"===e.annoType){var r={lane_id:e.uuid,lane_name:e.name,lane_number:0,camera_id:this.cameraSelectValue,lane_direction:e.lane_direction,max_speed:e.max_speed,pixel_coordinates:a,props:JSON.stringify(Object(n["a"])(Object(n["a"])({},e.props),{},{featureType:e.featureType}))};x(r).then((function(e){console.log("lane 上传结果：",e)}))}},setMode:function(e){switch(this.gMap.setMode(e),this.gMap.mode){case"PAN":break;case"RECT":this.drawingStyle={strokeStyle:"#00f",lineWidth:1,fillStyle:"#0f0",globalAlpha:.3,fill:!0,stroke:!0},this.gMap.setDrawingStyle(this.drawingStyle);break;case"POLYGON":this.drawingStyle={strokeStyle:"#00f",fillStyle:"#0f0",globalAlpha:.3,lineWidth:1,fill:!0,stroke:!0},this.gMap.setDrawingStyle(this.drawingStyle);break;default:break}}}},F=T,w=(t("6434"),t("2877")),M=Object(w["a"])(F,r,i,!1,null,null,null);a["default"]=M.exports},6434:function(e,a,t){"use strict";t("e9c0")},e9c0:function(e,a,t){}}]);